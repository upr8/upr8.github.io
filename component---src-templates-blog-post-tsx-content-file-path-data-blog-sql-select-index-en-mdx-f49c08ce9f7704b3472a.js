"use strict";(self.webpackChunkpersonal_web_site=self.webpackChunkpersonal_web_site||[]).push([[12],{1179:function(e,n,t){t.r(n),t.d(n,{Head:function(){return m.F},default:function(){return h}});var a=t(1151),l=t(7294);function r(e){const n=Object.assign({h2:"h2",a:"a",span:"span",p:"p",code:"code",h3:"h3",h4:"h4",em:"em",ol:"ol",li:"li",strong:"strong",ul:"ul",pre:"pre"},(0,a.ah)(),e.components),{Link:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Link",!0),l.createElement(l.Fragment,null,l.createElement(n.h2,{id:"introduction",style:{position:"relative"}},"Introduction",l.createElement(n.a,{href:"#introduction","aria-label":"introduction permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,"The ",l.createElement(n.code,null,"SELECT")," command is one of the most fundamental and commonly used commands in SQL.\nIt is primarily used to retrieve data from one or more database tables."),"\n",l.createElement(n.h3,{id:"sample-data-dvd-rental",style:{position:"relative"}},"Sample data: DVD Rental",l.createElement(n.a,{href:"#sample-data-dvd-rental","aria-label":"sample data dvd rental permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,"The website ",l.createElement(n.a,{href:"https://www.postgresqltutorial.com/"},"PostgresTutorial")," has prepared\na sample database for learning purposes. You can use this\n",l.createElement(n.a,{href:"https://www.postgresqltutorial.com/postgresql-sample-database/"},"Link")," to download\nthe .zip file of this sample database. In addition,\nto load this database into ",l.createElement(n.code,null,"PostgreSQL"),", you can use the\n",l.createElement(n.a,{href:"https://www.postgresqltutorial.com/load-postgresql-sample-database/"},"instruction"),"\nprovided by its website."),"\n",l.createElement(n.p,null,"The following image displays the ER-Diagram of this sample database.\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 730px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 125.86872586872589%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAADDUlEQVR42l2VCVMqMRCE9///MCylRA4VuRQ8UEBuBQU28+Yb6C18qdqCTSY9PT2dbPby8pJubm6sUqnYx8eHrVYrYxwOB5vNZtZsNu3q6sr6/b5Np1NLKcXa9/e3vb6+WrVajb3j8diWy2WeAdjtdm273Vqe57bZbALw5+cnANvtdpGEmN1uFzH8B7DVahV7PEmeedb0+flp8/m8CGTAZjKZ2GAwCOZKBiDJfn9/7e3tLQB5LwD9NxEEGzapJG1iDcCvr694Z03JAXx4ePjLsNfrpbu7O7u+vrZOpxOLgPILCCxZowre9/t9SEDy9/f30JBqGL6eZ65fYgOTsEJsAbrIVi6X7enpKYDW63UwFuBoNLLhcGiLxSLYB0N/CQ0Jphw0FCAPXQaQQQISw1RO4GHu9D/PHCCxEZ1gBwMGmmIFNKI0huSgEhjziySPj4+x5iyPXYY2kwDyMGANI5UlTWUpAJ+fn+3i4qKwjscdm4KfCOJhM0BIABsGXUUzDXkWQMC05p7OMwdLjUYjygMAwQEGhP9YAxb4EfEFiGZIAahk8tjjSeHowVL+AxgNAajX68GCLpKUeQB510mhGoa/55lnTvgPfU7CBiAMCaTLOnrnx5I5NQ6msAyGTjnOsjKLIYAwRA6YACYmshZDsafjegS8v78P26gxBNEYXQTeuOg+koghlZAQdjphXu3RNmQmSGZWZ2Xk29vbQlMxxDaQwIeAF132licm2AAzXRC6bdAQLzLHO3EkVZcxvvwZTfGFpLuPrADyEAQj5MCbOnqSghgqIzHAp8viaJvLy0srlUrF8Tu/bdBHJUkOfgGAAOAkhLF3PM/84CfRJuD/64s1dVFr8iGW4frCCcRGU9xPSR6k9PPbhpJqtRpi6wItgGGEnWiY5qMpvpiY0PmVjuq6bmsSnZcMIPHozF72xeWAhrDgY0QJdBQAJaFcytZ3R7aRD9EPnxY+1NFTdi4DAMkOCIl0H6o0MdM3hV8Y+4nLM2eROJcEsUFfPcqGIYJzY6MrieRVCKAtFwsJT9/x/B/WiG4llCmBTgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="DVD Rental ER-Diagram"\n        title=""\n        src="/static/e68f6346f301bf7cdc3e0c638d826af3/e9beb/dvd-rental-sample-database-diagram.png"\n        srcset="/static/e68f6346f301bf7cdc3e0c638d826af3/a2ead/dvd-rental-sample-database-diagram.png 259w,\n/static/e68f6346f301bf7cdc3e0c638d826af3/6b9fd/dvd-rental-sample-database-diagram.png 518w,\n/static/e68f6346f301bf7cdc3e0c638d826af3/e9beb/dvd-rental-sample-database-diagram.png 730w"\n        sizes="(max-width: 730px) 100vw, 730px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}})),"\n",l.createElement(n.h4,{id:"import-with-pgadmin",style:{position:"relative"}},"Import with pgAdmin",l.createElement(n.a,{href:"#import-with-pgadmin","aria-label":"import with pgadmin permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,"The mentioned dataset can be used in ",l.createElement(n.code,null,"PostgreSQL"),". To use this dataset, first, you\ncan set up an environment, as described in  the post about\n",l.createElement(t,{to:"/en/blog/sql-postgresql-pgadmin-compose/"},"PostgreSQL and pgAdmin with docker-compose"),"."),"\n",l.createElement(n.p,null,"Following the steps shown in the figure below, a ",l.createElement(n.em,null,".tar")," file can be restored:"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1035px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 38.61003861003861%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABkElEQVR42l2QTW/TQBCG/ZsrUVVCouIPcCgUtZUiDqgXSJOUVv26NE36cQBFpC0cELRN0rjr9a73c3bX9tpmwwEhRs9t5n3nnYl2zq7fn3zZ6g03dy9efeivfey/bp8939x7tt5dXu8tre0sv/20srH3onXw8t1RYLV1+KYz3D7+3Nq/iliGvS+bpqmqyhqofSkVtE9HndPR7uBrdzDuDq97l9+757cLhjedwc3tr8fKyKosollCH2IibA65974KLpTJh+mTVAbAKil8UTRKNdY0ZVk3i7rHNAPrCh8pkBgnOEmqEOBPO83Ej7vHaUxSpqUOFs5IMNoYcGAL58oJoohzsDZyIFhGnhDiQjiXO+/vEQmbERGEqZRyLoM2l9oFhLJS2Tmic0qVFhGjOEFJinEtZe1cSMWFRqmgHAjTgTRTfyGLLBZhBkblRR5xThkXQewBqnLxOSEBpRnjOpz9L4yr6Ry3++Or8U/ltHYuCtPGWEozX9dMSKW0lHoyi2dxEiPyH5MZGn27m8Zp6b0C+xvpZ6woM6m1BgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="pgAdmin-restore db"\n        title=""\n        src="/static/a76b23342cbbdc7b7e719fe45421390f/e3189/pgadmin-4-restore-dvdrental.png"\n        srcset="/static/a76b23342cbbdc7b7e719fe45421390f/a2ead/pgadmin-4-restore-dvdrental.png 259w,\n/static/a76b23342cbbdc7b7e719fe45421390f/6b9fd/pgadmin-4-restore-dvdrental.png 518w,\n/static/a76b23342cbbdc7b7e719fe45421390f/e3189/pgadmin-4-restore-dvdrental.png 1035w,\n/static/a76b23342cbbdc7b7e719fe45421390f/ad00e/pgadmin-4-restore-dvdrental.png 1366w"\n        sizes="(max-width: 1035px) 100vw, 1035px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",l.createElement(n.p,null,"if you follow the steps correctly, a prompt as shown in the following figure will be displayed:"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 555px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 45.94594594594595%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABpUlEQVR42k3QSW/TQBQHcH9RoCcuvbVVafkCLQeuRG04ULhQJNTSREo4ICTUGCUNBqQS0XpJbNN4mdWxE894GTOWWfL001/znmY0o1EqIWp/K+aAccZ4QSnBCNWjZsN/VZ6nCYecF8qqKFkpuKhlQuCMphlnPOcsjeO4rKpiTV4JOUnLjGQLuUcRQnz8Zm61unvt3q503NtudbefdffbvYdP394/PN148qbx4PD03sHrhmxb56oi3/XTDp531FfvRye94cu+NDrp1+t2Z3B0MWh31KN3l62zT8cXgxf9q38+jG+VsiyLoogpWmBIYZBEJInwgoCYwgiFywglFGHgy0yXcbVWjGXKimWI0Lu5F4ZAJkI4BBBA5AehnDjuL9t2JC8IoxCwmb2ypivTSg1jAbC8WUwtS9O0JEkAkKeg+PP5dRqm6fk+ACGO42QycR/vu3uPnJ0de3MTqkOlyAtI0Nf5dx0ZOtLrhHVqlqZOPg9vRlf6+PJ6MDa/GFC/nf9o3HjXc+QrmCwBiWbQcfHdumloW8HM9GuGN5WtSzyX+g2HegElvwHnMNIh11AOfAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="pgAdmin-restored successfuly"\n        title=""\n        src="/static/2e647f4798e662a7f5733b895a48a88f/cd039/pgadmin-5-restore-successfuly-dvdrental.png"\n        srcset="/static/2e647f4798e662a7f5733b895a48a88f/a2ead/pgadmin-5-restore-successfuly-dvdrental.png 259w,\n/static/2e647f4798e662a7f5733b895a48a88f/6b9fd/pgadmin-5-restore-successfuly-dvdrental.png 518w,\n/static/2e647f4798e662a7f5733b895a48a88f/cd039/pgadmin-5-restore-successfuly-dvdrental.png 555w"\n        sizes="(max-width: 555px) 100vw, 555px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",l.createElement(n.h2,{id:"working-with-various-data-structures",style:{position:"relative"}},"Working with various data structures",l.createElement(n.a,{href:"#working-with-various-data-structures","aria-label":"working with various data structures permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,"Some commonly used data types in SQL:"),"\n",l.createElement(n.ol,null,"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"Numeric Data Types"),":"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.code,null,"INT")," or ",l.createElement(n.code,null,"INTEGER"),": Represents integer values."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"FLOAT")," or ",l.createElement(n.code,null,"REAL"),": Represents floating-point numbers."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"DECIMAL(p, s)")," or ",l.createElement(n.code,null,"NUMERIC(p, s)"),": Represents fixed-point numbers with a specified precision (",l.createElement(n.code,null,"p"),") and scale (",l.createElement(n.code,null,"s"),")."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"DOUBLE PRECISION"),": Represents double-precision floating-point numbers."),"\n"),"\n"),"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"Character String Data Types"),":"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.code,null,"CHAR(n)"),": Represents a fixed-length string of length ",l.createElement(n.code,null,"n"),"."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"VARCHAR(n)"),": Represents a variable-length string with a maximum length of ",l.createElement(n.code,null,"n"),"."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"TEXT"),": Represents variable-length character data of any length."),"\n"),"\n"),"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"Boolean Data Type"),":"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.code,null,"BOOLEAN")," or ",l.createElement(n.code,null,"BOOL"),": Represents boolean values (",l.createElement(n.code,null,"TRUE")," or ",l.createElement(n.code,null,"FALSE"),")."),"\n"),"\n"),"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"Date and Time Data Types"),":"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.code,null,"DATE"),": Represents a date value."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"TIME"),": Represents a time value."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"TIMESTAMP"),": Represents a date and time value."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"INTERVAL"),": Represents a duration or time interval."),"\n"),"\n"),"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"Binary Data Types"),":"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.code,null,"BINARY(n)"),": Represents a fixed-length binary string of length ",l.createElement(n.code,null,"n"),"."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"VARBINARY(n)"),": Represents a variable-length binary string with a maximum length of ",l.createElement(n.code,null,"n"),"."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"BLOB"),": Represents binary data of variable length."),"\n"),"\n"),"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"Other Data Types"),":"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.code,null,"ENUM"),": Represents a set of predefined values."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"UUID"),": Represents a universally unique identifier."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"JSON"),": Represents JSON (JavaScript Object Notation) data."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"XML"),": Represents XML data."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"ARRAY"),": Represents an array or list of values."),"\n"),"\n"),"\n"),"\n",l.createElement(n.h3,{id:"date-and-time-data-types",style:{position:"relative"}},"Date and Time Data Types",l.createElement(n.a,{href:"#date-and-time-data-types","aria-label":"date and time data types permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,"To obtain a list of days from a specific date to the current date, we can use the following query:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT\n    CURRENT_DATE as today,\n    d as date_time,\n    AGE(d) as age_value, -- calculate age\n    d::date as date_value,\n    TO_CHAR(d.*, 'YYYY/MM/DD') as formatted,\n    EXTRACT(MONTH FROM d.*) as date_month\nFROM GENERATE_SERIES(\n    '2021-07-01',\n    '2021-07-10',\n    INTERVAL '1 day'\n) d\nLIMIT 1\n")),"\n",l.createElement(n.h2,{id:"basic-syntax",style:{position:"relative"}},"Basic Syntax",l.createElement(n.a,{href:"#basic-syntax","aria-label":"basic syntax permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,"The basic syntax of the SELECT command is as follows:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT column1, column2, ...\nFROM table_name;\n")),"\n",l.createElement(n.h3,{id:"alias",style:{position:"relative"}},"Alias",l.createElement(n.a,{href:"#alias","aria-label":"alias permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,"Defining an ",l.createElement(n.em,null,"alias")," for a table and using it. here ",l.createElement(n.code,null,"a")," is an alias for table ",l.createElement(n.code,null,"actor"),",\nand as you can see we have used this alias in the SELECT statement for selecting\ncolumns ",l.createElement(n.code,null,"first_name")," (--\x3ea.first_name) and ",l.createElement(n.code,null,"last_name")," (--\x3ea.last_name) of the table ",l.createElement(n.code,null,"actor"),"."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT a.first_name, a.last_name\nFROM actor a\n")),"\n",l.createElement(n.h3,{id:"order-by",style:{position:"relative"}},"ORDER BY",l.createElement(n.a,{href:"#order-by","aria-label":"order by permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,"To sort data based on the values in one or more columns, use the ",l.createElement(n.code,null,"ORDER BY")," statement.\nYou can either name a column or the number of the column in the ",l.createElement(n.code,null,"SELECT"),' statement which starts from 1.\nAfter specifying the "number of the column" in the ',l.createElement(n.code,null,"ORDER BY")," statement, you should state whether you want to sort the data in Ascending (ASC) or Descending (DESC) order.\nIf you don't mention the sorting order, the default which is ",l.createElement(n.code,null,"ASC")," will be applied.\nIn the following example, firstly rows will be sorted based on descending order of the second column in the SELECT statement (which is ",l.createElement(n.em,null,"amount"),"),\nthen they will be sorted based on the ascendingly order of the first column in the ",l.createElement(n.code,null,"SELECT")," statement (which is ",l.createElement(n.em,null,"payment_date"),").\nOf course, if you use the name of the columns instead of their number, the whole query will become more readable."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT payment_date,amount\nFROM payment\nORDER BY 2 DESC, 1 ASC\n")),"\n",l.createElement(n.h3,{id:"where",style:{position:"relative"}},"WHERE",l.createElement(n.a,{href:"#where","aria-label":"where permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,"Suppose we want to put a condition on the month of a date field like ",l.createElement(n.code,null,"payment_date"),", then we can do it as follows:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT payment_date,amount\nFROM payment\nWHERE EXTRACT(MONTH FROM payment_date) = 3\n")),"\n",l.createElement(n.p,null,'Suppose you have a question like "Find the number of payments during the second month of the year.",\nThe following query can be used to answer this question. Here, ',l.createElement(n.code,null,"COUNT(*)")," counts the number of rows with specified conditions."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT COUNT(*)\nFROM payment\nWHERE EXTRACT(MONTH FROM payment_date) IN (2)\n")),"\n",l.createElement(n.h3,{id:"group-by",style:{position:"relative"}},"GROUP BY",l.createElement(n.a,{href:"#group-by","aria-label":"group by permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,'Suppose you have a question like "Find an array of days in which each customer has at least one payment",\nThe following query can be used to answer this question. Here, the ',l.createElement(n.em,null,"ARRAY_AGG")," function is used to aggregate multiple rows into an array."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT customer_id,ARRAY_AGG(payment_date::date)\nFROM payment\nGROUP BY customer_id\n")),"\n",l.createElement(n.h3,{id:"having",style:{position:"relative"}},"HAVING",l.createElement(n.a,{href:"#having","aria-label":"having permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,'Suppose you want to answer a question like "What is the total income of days which has more than one payment in the third month".\nThe following query can be used to answer this question. Please note that to apply conditions on aggregated fields/functions like COUNT, SUM, MIN, MAX, etc., we have to use ',l.createElement(n.code,null,"HAVING")," statement;\nWHERE statement can only apply conditions on non-aggregate fields/functions. Also note that ",l.createElement(n.code,null,"::date")," is used to cast ",l.createElement(n.em,null,"payment_date")," to the ",l.createElement(n.code,null,"DATE")," data type."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT payment_date::date,COUNT(*),SUM(amount)\nFROM payment\nWHERE EXTRACT(MONTH FROM payment_date) = 3\nGROUP BY 1\nHAVING COUNT(*) > 1\n")),"\n",l.createElement(n.h2,{id:"join",style:{position:"relative"}},"JOIN",l.createElement(n.a,{href:"#join","aria-label":"join permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,'Suppose you have a question like "Retrieve name and full address of all employees.", the following query can be used to answer this question.\nHere, tables ',l.createElement(n.em,null,"address")," and ",l.createElement(n.em,null,"staff")," are joined based on the condition ",l.createElement(n.code,null,"staff.address_id = address.address_id"),". Therefore, only rows that fulfill this last condition will appear in the result."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT address.address_id, address.address, staff.staff_id\nFROM address\nJOIN staff ON staff.address_id = address.address_id\n")),"\n",l.createElement(n.p,null,'Suppose you have a question like "How many addresses do not belong to employees?", the following query can be used to answer this question.\nAnother way to answer this question is to SUBTRACT the number of rows in tables ',l.createElement(n.em,null,"address")," from the number of rows in table ",l.createElement(n.em,null,"staff"),"."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT count(*)\nFROM address\nLEFT JOIN staff ON staff.address_id = address.address_id\nWHERE staff.staff_id IS NULL\n")),"\n",l.createElement(n.p,null,"Suppose you have a question like \"Find number of days in the second month of the year 2007 during which no payments were made.\", the following query can be used to answer this question.\nThe generate_series() function generates a series of values based on the specified parameters. Here, generate_series() is used to create a series of dates within the range of '2007-02-01' to '2007-03-01'."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT count(*)\nFROM GENERATE_SERIES('2007-02-01', '2007-03-01', INTERVAL '1 day') d\nLEFT JOIN payment ON payment.payment_date::date = d::date\nWHERE payment_id IS NULL\n")),"\n",l.createElement(n.p,null,'Suppose you have a question like "Find the number of days in the second month of the year 2007 during which at least one payment were made.", the following query can be used to answer this question.'),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT count(\n    DISTINCT EXTRACT(\n        DAY from payment.payment_date::date\n        )\n    )\nFROM GENERATE_SERIES(\n    '2007-02-01', '2007-03-01', INTERVAL '1 day'\n    ) d\nLEFT JOIN payment\n    ON payment.payment_date::date = d::date\nWHERE payment_id IS NOT NULL\n")),"\n",l.createElement(n.p,null,"Be cautious when using ",l.createElement(n.code,null,"WHERE")," alongside ",l.createElement(n.code,null,"LEFT JOIN"),", as it will be applied to the final results.\nSometimes we need to apply the condition during the execution of the ",l.createElement(n.code,null,"JOIN")," statement. In these kinds of situations, it is better to bring the condition into the ",l.createElement(n.code,null,"ON")," using the ",l.createElement(n.code,null,"AND")," operator."),"\n",l.createElement(n.h2,{id:"nested-queries",style:{position:"relative"}},"Nested Queries",l.createElement(n.a,{href:"#nested-queries","aria-label":"nested queries permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,'Suppose you have a question like "Find the stores from which each customer has made a purchase.".\nOn one hand, we can find employees who have rented films in the ',l.createElement(n.em,null,"rental")," table. On the other hand, using  ",l.createElement(n.em,null,"staff")," table, we can find stores where employees work in them.\nTherefore, the following query can be used to answer the above-mentioned question."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT DISTINCT r.customer_id, s.store_id\nFROM rental r\n    LEFT JOIN staff s\n        ON s.staff_id = r.staff_id\nORDER BY 1\n")),"\n",l.createElement(n.p,null,'Suppose you have a question like "How many stores each customer has purchased from?", the following query can be used to answer this question.'),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT customer_store.customer_id, COUNT(*)\nFROM (\n    SELECT DISTINCT r.customer_id, s.store_id\n    FROM rental r\n        LEFT JOIN staff s\n            ON s.staff_id = r.staff_id\n    ORDER BY 1\n)customer_store\nGROUP BY 1\n")),"\n",l.createElement(n.h2,{id:"common-table-expression-cte",style:{position:"relative"}},"Common table expression (CTE)",l.createElement(n.a,{href:"#common-table-expression-cte","aria-label":"common table expression cte permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,'A cleaner approach to answering the question "How many stores each customer has purchased from?" is to use ',l.createElement(n.code,null,"sql>WITH AS")," in the way we have used it in the following query:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"WITH customer_store AS (\n    SELECT DISTINCT r.customer_id, s.store_id\n    FROM rental r\n        LEFT JOIN staff s\n            ON s.staff_id = r.staff_id\n    ORDER BY 1\n)\n\nSELECT customer_id, COUNT(*)\nFROM customer_store\nGROUP BY 1\n")),"\n",l.createElement(n.p,null,"It is worth mentioning that CTEs won't be saved and they are solely used to simplify the main query."),"\n",l.createElement(n.p,null,"In some implementations of RDBMSs, only one WITH statement can be used in each query.\nUsing that implementation, if several CTEs are needed for a query, you should define them sequentially\nas it is shown in the following example:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"WITH cte_1 AS(\n    SELECT ...\n), cte_2 AS(\n    SELECT ...\n)\n")),"\n",l.createElement(n.h2,{id:"correlating-several-queries",style:{position:"relative"}},"Correlating several queries",l.createElement(n.a,{href:"#correlating-several-queries","aria-label":"correlating several queries permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,'Suppose you have a question like "Find the ID and date of the first order of each customer.".\nSince GROUP BY is executed on ',l.createElement(n.em,null,"rental_date"),' in the following query, it will display the "first order in each day" instead of displaying "ID and date of the first order of each customer".\nTherefore, this query CANNOT be used to answer the question.'),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT r.customer_id, r.rental_date, min(r.rental_id) as first_order_id\nFROM rental r\nGROUP BY 1,2\nORDER BY 1\n")),"\n",l.createElement(n.p,null,'But we can answer the "Find ID and date of the first order of each customer." question using the following query:'),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT\n    r.customer_id,\n    min(r.rental_id) as first_order_id,\n    (\n        SELECT r2.rental_date\n        FROM rental r2\n        WHERE r2.rental_id = min(r.rental_id)\n    )::date as first_order_date\nFROM rental r\nGROUP BY 1\nORDER BY 1\n")),"\n",l.createElement(n.p,null,'Another way to answer the "Find ID and date of the first order of each customer." question is to use the following query:'),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT r.customer_id,r.rental_id as first_rental_id,r.rental_date as first_order_date\nFROM rental r\nWHERE r.rental_id = (\n    SELECT MIN(r2.rental_id)\n    FROM rental r2\n    WHERE r2.customer_id = r.customer_id\n)\nORDER BY r.customer_id\n")),"\n",l.createElement(n.p,null,'Yet another way to answer the "Find ID and date of the first order of each customer." question is to use the following query:'),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT r.customer_id,r.rental_id as first_rental_id,r.rental_date as first_order_date\nFROM rental r\nJOIN (\n    SELECT customer_id, MIN(rental_id) as rental_id\n    FROM rental\n    GROUP BY customer_id\n)r2 ON r.rental_id = r2.rental_id\nORDER BY r.customer_id\n")),"\n",l.createElement(n.p,null,"To observe the difference in the results of the three above-mentioned solutions,\nthe following method can be used (the result of the following command is zero, indicating the consistency of the results):"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"WITH s1 AS (\n    SELECT\n        r.customer_id,\n        MIN(r.rental_id) AS first_rental_id,\n        (\n            SELECT r2.rental_date\n            FROM rental r2\n            WHERE r2.rental_id = min(r.rental_id)\n        )::date AS first_order_date\n    FROM rental r\n    GROUP BY 1\n    ORDER BY 1\n),\ns2 AS (\n    SELECT r.customer_id,\n        r.rental_id AS first_rental_id,\n        r.rental_date as first_order_date\n    FROM rental r\n    WHERE r.rental_id = (\n        SELECT MIN(r2.rental_id)\n        FROM rental r2\n        WHERE r2.customer_id = r.customer_id\n    )\n    ORDER BY r.customer_id\n),\ns3 AS (\n    SELECT r.customer_id,\n        r.rental_id AS first_rental_id,\n        r.rental_date AS first_order_date\n    FROM rental r\n    JOIN (\n        SELECT customer_id,\n            MIN(rental_id) AS rental_id\n        FROM rental\n        GROUP BY customer_id\n    )r2 ON r.rental_id = r2.rental_id\n    ORDER BY r.customer_id\n)\n\nSELECT COUNT(*) FROM s1\nFULL OUTER JOIN s2\n    ON s1.first_rental_id = s2.first_rental_id\nFULL OUTER JOIN s3\n    ON s1.first_rental_id = s3.first_rental_id\nWHERE s1.first_order_date IS NULL\n    OR s2.first_order_date IS NULL\n    OR s3.first_order_date IS NULL\n")),"\n",l.createElement(n.h2,{id:"case",style:{position:"relative"}},"CASE",l.createElement(n.a,{href:"#case","aria-label":"case permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,'Suppose you have a question like "Replacement cost for each film is more or less than the average?", the following query can be used to answer this question.'),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT film_id, title, replacement_cost,\nCASE\n    WHEN replacement_cost > (\n        SELECT AVG(replacement_cost)\n        FROM film\n        )\n    THEN 'gt_avg'\n    ELSE 'le_avg'\n    END AS replacement_cost_status\nFROM film\n")),"\n",l.createElement(n.p,null,"Probably the most common way to answer this question is to use the ",l.createElement(n.code,null,"UNION")," statement if you don't want to use the ",l.createElement(n.code,null,"CASE")," statement."),"\n",l.createElement(n.h3,{id:"window-function",style:{position:"relative"}},"Window Function",l.createElement(n.a,{href:"#window-function","aria-label":"window function permalink",className:"autolink-hdrs after"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",l.createElement(n.p,null,'Suppose you have a question like "How many films exist in each rating category?", the following query can be used to answer this question.'),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-sql"},"SELECT DISTINCT f.rating, f.film_count\nFROM (\n    SELECT\n        rating,\n        COUNT(*) OVER (\n            PARTITION BY rating\n            ) AS film_count\n    FROM film\n) f\n")),"\n",l.createElement(n.p,null,"Notice the usage of sql> window_function OVER(PARTITION BY field) in the above query.\nWhen we need to aggregate data, we can use ",l.createElement(n.code,null,"GROUP BY"),",\nand when we want to analyze data in a categorized manner, we can use ",l.createElement(n.code,null,"PARTITION BY"),"."))}var s=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?l.createElement(n,e,l.createElement(r,e)):r(e)};var i=t(6053),o=t(8890),c=t(6587),d=t(6746),m=t(8071);const u=e=>{var n,t,a,r,s,m;let{data:u,pageContext:h,children:E}=e;const{enableTableOfContents:p}=(0,d.$)(),g=p&&null!==(n=u.mdx)&&void 0!==n&&n.tableOfContents?{TableOfContents:null===(t=u.mdx)||void 0===t?void 0:t.tableOfContents}:{};return l.createElement(o.Z,{pageContext:h},l.createElement(i.Z,g,E),(null===(a=u.mdx)||void 0===a||null===(r=a.fields)||void 0===r?void 0:r.slugTagList)&&l.createElement("div",{className:"mt-32"},l.createElement("p",{className:"mt-8 text-center text-secondary"},"Tags of this Post:"),l.createElement(c.P,{tags:null===(s=u.mdx)||void 0===s||null===(m=s.fields)||void 0===m?void 0:m.slugTagList})))};function h(e){return l.createElement(u,e,l.createElement(s,e))}},6587:function(e,n,t){t.d(n,{P:function(){return r}});var a=t(7294),l=t(2811);var r=e=>{let{tags:n,isCenter:t=!0}=e;return a.createElement("ul",{className:"flex flex-wrap items-baseline mt-2 ms-1 md:mt-0 "+(t?"justify-center":"justify-start")},null==n?void 0:n.map((e=>a.createElement("li",{key:null==e?void 0:e.tag,className:"z-10 inline-block px-2 m-1 text-sm border-2 rounded-full shadow-sm bg-nav text-primary"},a.createElement(l.Link,{to:""+(null==e?void 0:e.slug)},"#",null==e?void 0:e.tag)))))}}}]);
//# sourceMappingURL=component---src-templates-blog-post-tsx-content-file-path-data-blog-sql-select-index-en-mdx-f49c08ce9f7704b3472a.js.map